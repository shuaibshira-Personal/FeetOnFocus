<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Packaging Fields Test</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>
<body>
    <div class="container mt-4">
        <h1>Packaging Fields Test</h1>
        
        <div class="card">
            <div class="card-body">
                <h5>Test the packaging form elements</h5>
                
                <!-- Packaging Options -->
                <div class="card mb-3" id="packagingGroup">
                    <div class="card-header">
                        <h6 class="mb-0"><i class="fas fa-boxes me-2"></i>Packaging Options</h6>
                    </div>
                    <div class="card-body">
                        <div class="row">
                            <div class="col-md-6">
                                <div class="mb-3">
                                    <label for="itemPackType" class="form-label">Pack Type</label>
                                    <select class="form-select" id="itemPackType">
                                        <option value="single">Single Unit</option>
                                        <option value="pack">Multi-Pack</option>
                                    </select>
                                </div>
                                <div class="mb-3" id="packSizeGroup" style="display: none;">
                                    <label for="itemPackSize" class="form-label">Units per Pack</label>
                                    <input type="number" class="form-control" id="itemPackSize" min="2" value="6">
                                    <div class="form-text">How many individual units in each pack</div>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="mb-3" id="sellIndividuallyGroup" style="display: none;">
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" id="itemSellIndividually" checked>
                                        <label class="form-check-label" for="itemSellIndividually">
                                            Allow individual sales
                                        </label>
                                    </div>
                                    <div class="form-text">Check if you can sell items individually from the pack</div>
                                </div>
                                <div class="mb-0" id="packPriceGroup" style="display: none;">
                                    <label for="itemPackPrice" class="form-label">Pack Price</label>
                                    <input type="number" class="form-control" id="itemPackPrice" step="0.01">
                                    <div class="form-text">Price for the entire pack</div>
                                </div>
                                <div class="mb-0" id="individualPriceGroup" style="display: none;">
                                    <label for="itemIndividualPrice" class="form-label">Individual Price</label>
                                    <input type="number" class="form-control" id="itemIndividualPrice" step="0.01">
                                    <div class="form-text">Price per individual unit</div>
                                </div>
                            </div>
                        </div>
                        <div class="alert alert-info mt-2" id="packagingHelp" style="display: none;">
                            <i class="fas fa-info-circle me-2"></i>
                            <span id="packagingHelpText"></span>
                        </div>
                    </div>
                </div>
                
                <button class="btn btn-primary" onclick="showPackagingData()">Show Current Data</button>
                <div id="output" class="mt-3"></div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // Test functions for packaging
        function handlePackTypeChange(packType) {
            const packSizeGroup = document.getElementById('packSizeGroup');
            const sellIndividuallyGroup = document.getElementById('sellIndividuallyGroup');
            const packPriceGroup = document.getElementById('packPriceGroup');
            const individualPriceGroup = document.getElementById('individualPriceGroup');
            const packagingHelp = document.getElementById('packagingHelp');
            const packagingHelpText = document.getElementById('packagingHelpText');
            
            if (packType === 'pack') {
                // Show pack-related fields
                packSizeGroup.style.display = 'block';
                sellIndividuallyGroup.style.display = 'block';
                packPriceGroup.style.display = 'block';
                
                // Check if sell individually is enabled and show individual price if so
                const sellIndividuallyCheckbox = document.getElementById('itemSellIndividually');
                if (sellIndividuallyCheckbox && sellIndividuallyCheckbox.checked) {
                    individualPriceGroup.style.display = 'block';
                }
                
                // Show help text
                packagingHelp.style.display = 'block';
                packagingHelpText.textContent = 'Configure how this multi-pack item will be sold. You can set both pack and individual unit prices.';
            } else {
                // Hide all pack-related fields
                packSizeGroup.style.display = 'none';
                sellIndividuallyGroup.style.display = 'none';
                packPriceGroup.style.display = 'none';
                individualPriceGroup.style.display = 'none';
                packagingHelp.style.display = 'none';
            }
        }
        
        function handleSellIndividuallyChange(sellIndividually) {
            const individualPriceGroup = document.getElementById('individualPriceGroup');
            const packagingHelpText = document.getElementById('packagingHelpText');
            
            if (sellIndividually) {
                individualPriceGroup.style.display = 'block';
                packagingHelpText.textContent = 'You can sell both individual units and complete packs. Set prices for both options.';
            } else {
                individualPriceGroup.style.display = 'none';
                packagingHelpText.textContent = 'This pack can only be sold as a complete unit. Individual unit sales are disabled.';
            }
        }
        
        function showPackagingData() {
            const packType = document.getElementById('itemPackType').value;
            const data = {
                packType: packType,
                packSize: packType === 'pack' ? (parseInt(document.getElementById('itemPackSize').value) || 6) : null,
                sellIndividually: packType === 'pack' ? document.getElementById('itemSellIndividually').checked : null,
                packPrice: packType === 'pack' ? (parseFloat(document.getElementById('itemPackPrice').value) || 0) : null,
                individualPrice: packType === 'pack' && document.getElementById('itemSellIndividually').checked ? (parseFloat(document.getElementById('itemIndividualPrice').value) || 0) : null
            };
            
            document.getElementById('output').innerHTML = '<pre>' + JSON.stringify(data, null, 2) + '</pre>';
        }
        
        // Setup event listeners
        document.getElementById('itemPackType').addEventListener('change', (e) => {
            handlePackTypeChange(e.target.value);
        });
        
        document.getElementById('itemSellIndividually').addEventListener('change', (e) => {
            handleSellIndividuallyChange(e.target.checked);
        });
        
        // Initialize
        handlePackTypeChange('single');
    </script>
</body>
</html>